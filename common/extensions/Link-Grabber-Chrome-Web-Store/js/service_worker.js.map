{
  "version": 3,
  "sources": ["../src/service_worker.js"],
  "sourcesContent": ["const DEFAULT_SETTINGS = {\n  blockedDomains: ['bad1.example.com', 'bad2.example.com', 'bad4.example.com'],\n};\n\nconst DEFAULT_SESSION = {\n  tabData: {},\n};\n\nfunction warnLastError() {\n  if (chrome.runtime.lastError) {\n    console.warn(chrome.runtime.lastError); // eslint-disable-line\n  }\n}\n\nchrome.runtime.onInstalled.addListener(() => {\n  chrome.storage.sync.get(DEFAULT_SETTINGS, options => {\n    chrome.storage.sync.set(options);\n  });\n  chrome.contextMenus.create({\n    id: 'Link Grabber',\n    title: 'Link Grabber',\n    contexts: ['page'],\n    documentUrlPatterns: ['http://*/*', 'https://*/*', 'file://*/*'],\n  }, warnLastError);\n});\n\nchrome.action.onClicked.addListener((tab) => {\n  chrome.scripting.executeScript({\n    target: {tabId: tab.id},\n    files:  ['js/contentscript.js'],\n  });\n});\n\nchrome.contextMenus.onClicked.addListener((info, tab) => {\n  chrome.scripting.executeScript({\n    target: {tabId: tab.id},\n    files: ['js/contentscript.js'],\n  });\n});\n\nchrome.tabs.onRemoved.addListener((tabId, removeInfo) => {\n  chrome.storage.session.get(DEFAULT_SESSION).then(session => {\n    delete session.tabData[tabId];\n    chrome.storage.session.set(session);\n  });\n});\n\nchrome.runtime.onMessage.addListener((msg, sender, sendResponse) => {\n  if (msg.type === 'links-found') {\n    const tab = sender.tab;\n    chrome.storage.session.get(DEFAULT_SESSION).then(session => {\n      session.tabData[tab.id] = {\n        source: tab.url,\n        links: msg.links,\n      };\n      return chrome.storage.session.set(session);\n    }).then(() => {\n      chrome.tabs.create({\n        index: tab.index + 1,\n        openerTabId: tab.id,\n        url: chrome.runtime.getURL('html/links.html') + '?tab_id=' + String(tab.id),\n      });\n    });\n    return;\n  }\n});"],
  "mappings": ";AAAA,IAAM,mBAAmB;AAAA,EACvB,gBAAgB,CAAC,oBAAoB,oBAAoB,kBAAkB;AAC7E;AAEA,IAAM,kBAAkB;AAAA,EACtB,SAAS,CAAC;AACZ;AAEA,SAAS,gBAAgB;AACvB,MAAI,OAAO,QAAQ,WAAW;AAC5B,YAAQ,KAAK,OAAO,QAAQ,SAAS;AAAA,EACvC;AACF;AAEA,OAAO,QAAQ,YAAY,YAAY,MAAM;AAC3C,SAAO,QAAQ,KAAK,IAAI,kBAAkB,aAAW;AACnD,WAAO,QAAQ,KAAK,IAAI,OAAO;AAAA,EACjC,CAAC;AACD,SAAO,aAAa,OAAO;AAAA,IACzB,IAAI;AAAA,IACJ,OAAO;AAAA,IACP,UAAU,CAAC,MAAM;AAAA,IACjB,qBAAqB,CAAC,cAAc,eAAe,YAAY;AAAA,EACjE,GAAG,aAAa;AAClB,CAAC;AAED,OAAO,OAAO,UAAU,YAAY,CAAC,QAAQ;AAC3C,SAAO,UAAU,cAAc;AAAA,IAC7B,QAAQ,EAAC,OAAO,IAAI,GAAE;AAAA,IACtB,OAAQ,CAAC,qBAAqB;AAAA,EAChC,CAAC;AACH,CAAC;AAED,OAAO,aAAa,UAAU,YAAY,CAAC,MAAM,QAAQ;AACvD,SAAO,UAAU,cAAc;AAAA,IAC7B,QAAQ,EAAC,OAAO,IAAI,GAAE;AAAA,IACtB,OAAO,CAAC,qBAAqB;AAAA,EAC/B,CAAC;AACH,CAAC;AAED,OAAO,KAAK,UAAU,YAAY,CAAC,OAAO,eAAe;AACvD,SAAO,QAAQ,QAAQ,IAAI,eAAe,EAAE,KAAK,aAAW;AAC1D,WAAO,QAAQ,QAAQ,KAAK;AAC5B,WAAO,QAAQ,QAAQ,IAAI,OAAO;AAAA,EACpC,CAAC;AACH,CAAC;AAED,OAAO,QAAQ,UAAU,YAAY,CAAC,KAAK,QAAQ,iBAAiB;AAClE,MAAI,IAAI,SAAS,eAAe;AAC9B,UAAM,MAAM,OAAO;AACnB,WAAO,QAAQ,QAAQ,IAAI,eAAe,EAAE,KAAK,aAAW;AAC1D,cAAQ,QAAQ,IAAI,EAAE,IAAI;AAAA,QACxB,QAAQ,IAAI;AAAA,QACZ,OAAO,IAAI;AAAA,MACb;AACA,aAAO,OAAO,QAAQ,QAAQ,IAAI,OAAO;AAAA,IAC3C,CAAC,EAAE,KAAK,MAAM;AACZ,aAAO,KAAK,OAAO;AAAA,QACjB,OAAO,IAAI,QAAQ;AAAA,QACnB,aAAa,IAAI;AAAA,QACjB,KAAK,OAAO,QAAQ,OAAO,iBAAiB,IAAI,aAAa,OAAO,IAAI,EAAE;AAAA,MAC5E,CAAC;AAAA,IACH,CAAC;AACD;AAAA,EACF;AACF,CAAC;",
  "names": []
}
